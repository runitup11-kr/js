<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>Whack-a-Mole</title>
  <style>
    .board {
      display: grid;
      grid-template-columns: repeat(3, 100px);
      gap: 10px;
      margin-bottom: 10px;
    }
    .cell {
      width: 100px;
      height: 100px;
      background: #ddd;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 40px;
      cursor: pointer;
    }
    .mole {
      background: gold;
    }
  </style>
</head>
<body>

<h2>ë‘ë”ì§€ ì¡ê¸° ê²Œì„</h2>
<div>ì ìˆ˜: <span id="score">0</span></div>
<button id="startBtn">ê²Œì„ ì‹œì‘</button>

<div class="board" id="board"></div>

<script>
  const board = document.getElementById("board");
  const scoreEl = document.getElementById("score");
  const startBtn = document.getElementById("startBtn");

  let score = 0;
  let timer = null;
  let currentIndex = -1;

  // 1. ë³´ë“œ ìƒì„± (DOM Create)
  for(let i = 0; i < 9 ; i ++){
    const cell = document.createElement("div"); // div íƒœê·¸ ìƒì„±
    cell.className = "cell"; //div class ì§€ì •
    cell.dataset.index = i; //div data-index ì§€ì •
    board.appendChild(cell); // í™”ë©´ë³´ì´ê¸°
  }
   const cells = document.querySelectorAll(".cell");
  //â€» íŒíŠ¸:
  //- document.createElement("div")
  //- div.className = "cell"
  //- div.dataset.index = i
  //- board.appendChild(div)
  

  // 2. ëœë¤ ë‘ë”ì§€ ë“±ì¥
  function showMole(){
    cells.forEach((c)=>{
      c.classList.remove("mole");
      c.textContent = " ";
    });
    const rand = Math.floor(Math.random() * cells.length);

    cells[rand].classList.add("mole");
    cells[rand].textContent = "ğŸ¹"

    currentIndex = rand;
  }
// â€» íŒíŠ¸:
//  - cells.forEach()ë¡œ ëª¨ë“  ì…€ ìˆœíšŒ
//  - c.classList.remove("mole"), c.textContent = ""
//  - Math.floor(Math.random() * cells.length)
//  - cells[rand].classList.add("mole")
//  - cells[rand].textContent = "ğŸ¹"


  // 3. í´ë¦­ ì´ë²¤íŠ¸ ì²˜ë¦¬
    cells.forEach((cell)=>{
      cell.addEventListener("click", ()=>{
        const clickedIndex = Number(cell.dataset.index);
        
        if(clickedIndex === currentIndex){
          score++;
          scoreEl.textContent = score;
        }
      });
    });
//  â€» íŒíŠ¸:
//  - cells.forEach(cell => { ... })
//  - cell.addEventListener("click", () => { ... })
//  - Number(cell.dataset.index) === currentIndex
//- score++
// - scoreEl.textContent = score
  
  

  // 4. ê²Œì„ ì‹œì‘ ë²„íŠ¼
  startBtn.addEventListener("click",()=>{
    if(timer) return; // ê²Œì„ì¤‘ì´ë©´ ì‹¤í–‰ ë°©ì§€
    //ì ìˆ˜ ì´ˆê¸°í™”
    score = 0;
    scoreEl.textContent = score;
    // 0.8ì´ˆë§ˆë‹¤ ë‘ë”ì§€ ë“±ì¥
    timer = setInterval(showMole,800)
    //10ì´ˆ í›„ ê²œ ì¢…ë£Œ
    setTimeout(()=>{
      clearInterval(timer); // íƒ€ì´ë¨¸ ì¤‘ì§€
      timer = null; // ë‹¤ì‹œ ì´ˆê¸°í™”

      alert("ê²Œì„ ì¢…ë£Œ! ì ìˆ˜:" + score)
    },10000);
  });


//  â€» íŒíŠ¸:
 // - startBtn.addEventListener("click", () => { ... })
//  - if (timer) return;
 // - timer = setInterval(showMole, 800)
//  - setTimeout(() => { ... }, 10000)
///  - clearInterval(timer)
//  - alert("ê²Œì„ ì¢…ë£Œ! ì ìˆ˜: " + score)
  
</script>

</body>
</html>
