<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <div class="container">
        <h1>ğŸ• ë§›ì§‘ ê¸°ë¡</h1>
        
        <div class="input-area">
            <input type="text" id="storeName" placeholder="ê°€ê²Œ ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”!!">
            <select id="storeRating">
                <option value="5">â­â­â­â­â­</option>
                <option value="4">â­â­â­â­</option>
                <option value="3">â­â­â­</option>
                <option value="2">â­â­</option>
                <option value="1">â­</option>
            </select>
            <button id="addBtn">ê¸°ë¡í•˜ê¸°</button>
        </div>
        
        <div id="bestGrid" class="grid-area"></div>
    </div>
    <style>
        body{
            background-color: #f0f2f5;
             font-family: 'pretendard' , sans-serif;
            padding: 20px;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
        }
        h1 {text-align: center; color: #ff4757;}
        /* ì…ë ¥ì°½ ì •ë ¬ */
        .input-area{
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
            background-color: white;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        input, select, button {
            padding:  15px;
            border: 1px solid #ddd;
            border-radius: 8px;
        }
        .grid-area{
            display: grid;
            grid-template-columns: repeat(auto-fill,minmax(200px,1fr));
            gap: 20px;
        }
        /* ì¹´ë“œ ìŠ¤íƒ€ì¼ */
        .store-card{
            background: white;
            padding: 20px;
            border-radius: 15px;
            position: relative;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
            transition: transform 0.2s;
        }   
        .store-card:hover {transform:translateY(-5px) ;}

        .store-card h3 { margin-bottom: 10px; color: #2f3542; }

    .delete-btn {
        margin-top: 15px;
        width: 100%;
        background: #f1f2f6;
        border: none;
        padding: 5px;
        border-radius: 5px;
        cursor: pointer;
        color: #ff4757;
    }
    </style>

    <script>
const storeApp = { // 1. ì´ë¦„ì„ storeAppìœ¼ë¡œ í†µì¼
    stores: [], // ë°ì´í„° ë‹´ì„ ê°ì²´ ìƒì„±

    init() {
        // localStorageì—ì„œ storeë¼ëŠ” ì´ë¦„ì˜ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ê³ 
        // ë§Œì•½ ì €ì¥ëœ ë°ì´í„°ê°€ ìˆë‹¤ë©´ , ë‹¤ì‹œ js ê°ì²´ë¡œ ì¡°ë¦½í•´ì„œ ë„£ëŠ”ë‹¤
        const saved = localStorage.getItem('store');
        if (saved) this.stores = JSON.parse(saved);

        // 'ê¸°ë¡í•˜ê¸°' ë²„íŠ¼ì— í´ë¦­ ê°ì§€ê¸°ë¥¼ ë‹¬ê³  , í´ë¦­í•˜ë©´ addStore í•¨ìˆ˜ ì‹¤í–‰
        document.getElementById('addBtn').addEventListener('click', () => this.addStore());
        // ì¼œì§€ìë§ˆì í™”ë©´ì„ í•œë²ˆ ë³´ì—¬ì¤Œ
        this.render();
    },

    addStore() {
        // HTML ì…ë ¥ì°½ ,  ë³„ì  ì„ íƒì°½ ë” ìš”ì†Œ ê°€ì ¸ì˜¤ê¸°
        const nameInput = document.getElementById('storeName');
        const ratingInput = document.getElementById('storeRating');
        
        // ì˜ˆì™¸ì²˜ë¦¬
        // ì´ë¦„ì´ ë¹„ì–´ìˆê±°ë‚˜ ê³µë°±ì´ë©´ ê²½ê³ ë¥¼ ë„ì›€
        if (!nameInput.value.trim()) return alert("ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš” !!");

        // ê°€ê²Œ ê°ì²´ ë§Œë“¤ê¸°: ë°ì´í„°ì˜ ê³ ìœ  ì´ë¦„ì„ ë§Œë“œëŠ” ê³¼ì •
        const newStore = {
            id: Date.now(), // 1/1000ì´ˆ ë‹¨ìœ„ ì‹œê°„ì„ IDë¡œ ì¨ì„œ ì¤‘ë³µ ë°©ì§€
            name: nameInput.value, // ì…ë ¥ì°½ ê¸€ì
            rating: parseInt(ratingInput.value) // ì„ íƒí•œ ë³„ì (ë¬¸ì)ë¥¼ ìˆ«ì(int) ë¡œ ë°”ê¿ˆ
        };

        // ê°ì²´ì— ìƒˆë¡œìš´ ë°ì´í„°ë¥¼ ë„£ê³  , localStorageì— ì €ì¥
        this.stores.push(newStore);
        this.save();
        
        // ë‹¤ìŒ ì…ë ¥ì„ ìœ„í•´ ì…ë ¥ì°½ì„ ë¹„ìš°ê³  í™”ë©´ì„ ìƒˆë¡œ ê·¸ë¦¼
        nameInput.value = '';
        this.render();
    },
    // ì‚­ì œ ë° ì €ì¥
    deleteStore(id) {
        this.stores = this.stores.filter(s => s.id !== id);
        this.save();
        this.render();
    },

    save() {
        // localStorageì—ëŠ” ë¬¸ìì—´ë§Œ ë“¤ì–´ê°€ê¸° ë•Œë¬¸ì—
        // JSON.stringifyë¡œ ì••ì¶•í•´ì„œ ì €ì¥
        localStorage.setItem('store', JSON.stringify(this.stores));
    },

    // í™”ë©´ ê·¸ë¦¬ê¸° íŒŒíŠ¸
    render() {
        const grid = document.getElementById('bestGrid'); // í™”ë©´ì„ ê·¸ë¦´ ì¢…ì´ ê°€ì ¸ì˜¤ê¸°

        // ê°ì²´ê°€ ë¹„ì—ˆì„ ë•Œì˜ ì˜ˆì™¸ ì²˜ë¦¬
        if (this.stores.length === 0) {
            grid.innerHTML = '<p style="grid-column: 1/-1; text-align: center;">ì•„ì§ ê¸°ë¡ëœ ê°€ê²Œê°€ ì—†ì–´ìš”.</p>';
            return;
        }
        // map í•¨ìˆ˜ë¡œ ë°ì´í„°ë¥¼ HTMLë¡œ ë³€ì‹ ì‹œí‚´
            grid.innerHTML = this.stores.map(store => `
                <div class="store-card">
                <h3>${store.name}</h3>
                <div class="stars">${'â­'.repeat(store.rating)}</div> <button class="delete-btn" onclick="storeApp.deleteStore(${store.id})">ì‚­ì œí•˜ê¸°</button>
                </div>
            `).join(''); // ë°°ì—´ ì‚¬ì´ì˜ ì‰¼í‘œë¥¼ ì—†ì• ê³  í•˜ë‚˜ì˜ ë¬¸ìì—´ë¡œ í•©ì³ì„œ HTMLì— ê½‚ëŠ”ë‹¤
        }
    };

    storeApp.init(); // 3. ì´ë¦„ í†µì¼
    </script>
</body>
</html>
